allOf:
  - $ref: './base_create_smart_contract_wallet.yaml'
  - type: object
    required:
      - smart_contract_wallet_type
    properties:
      smart_contract_wallet_type:
        $ref: '../../smart_contracts/smart_contract_wallet_type.yaml'
      safe_address:
        type: string
        format: address
        pattern: "^0x[a-fA-F0-9]{40}$"
        example: '0x1234567890123456789012345678901234567890'
        description: >- 
          The address of the Smart Contract Wallet. If this is not provided, Cobo will create a new Safe{Wallet} and set up Cobo Safe for you. In that case, the `threshold` and `owners` fields are required.
      owners:
        type: array
        items:
          type: string
          format: address
          pattern: "^0x[a-fA-F0-9]{40}$"
          example: '0x1234567890123456789012345678901234567890'
        description: >-
          The owners of the Smart Contract Wallet. This field is required when creating a new Safe{Wallet}.
      threshold:
        type: integer 
        minimum: 1
        example: 2
        description: >-
          The minimum number of confirmations required for the Smart Contract Wallet. This field is required when creating a new Safe{Wallet}.
      cobo_safe_address:
        type: string
        format: address
        pattern: "^0x[a-fA-F0-9]{40}$"
        example: '0x1234567890123456789012345678901234567890'
        description: >-
          The address of Cobo Safe. If you are importing an existing Safe{Wallet}, Cobo Safe must has been created and enabled.
      initiator:
        type: object
        properties:
          wallet_id:
            type: string
            format: uuid
            example: '123e4567-e89b-12d3-a456-426614174000'
            description: >-
              The initiator's wallet ID. This field is required when creating a new Safe{Wallet}. 
          wallet_type:
            type: string
            example: 'MPC'
            description: >-
              The initiator's wallet type. This field is required when creating a new Safe{Wallet}. 
          wallet_address:
            type: string
            example: '0x1234567890123456789012345678901234567890'
            description: >-
              The initiator's wallet address. This field is required when creating a new Safe{Wallet}. 
